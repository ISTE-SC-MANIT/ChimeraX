{"ast":null,"code":"import cookie from \"js-cookie\";\nimport { Environment, RecordSource, Store } from \"relay-runtime\";\nimport { RelayNetworkLayer, urlMiddleware, authMiddleware, errorMiddleware } from \"react-relay-network-modern\";\nexport var makeEnvironment = function makeEnvironment() {\n  var token = cookie.get(\"token\");\n  var network = new RelayNetworkLayer([urlMiddleware({\n    url: function url() {\n      return Promise.resolve(\"\".concat(process.env.NEXT_PUBLIC_BACKEND, \"/graphql\"));\n    }\n  }), authMiddleware({\n    token: token,\n    prefix: \"\",\n    // default\n    header: \"authorization\"\n  }), errorMiddleware({\n    logger: console.error,\n    prefix: \"[Relay Network]: \"\n  })]);\n  return new Environment({\n    network: network,\n    store: new Store(new RecordSource())\n  });\n};","map":null,"metadata":{},"sourceType":"module"}