{"ast":null,"code":"import cookie from \"js-cookie\";\nimport { Environment, RecordSource, Store } from \"relay-runtime\";\nimport { RelayNetworkLayer, urlMiddleware, authMiddleware, errorMiddleware } from \"react-relay-network-modern\";\nexport const makeEnvironment = () => {\n  const token = cookie.get(\"token\");\n  const network = new RelayNetworkLayer([urlMiddleware({\n    url: () => Promise.resolve(`${process.env.NEXT_PUBLIC_BACKEND}/graphql`)\n  }), authMiddleware({\n    token: token,\n    prefix: \"\",\n    // default\n    header: \"authorization\"\n  }), errorMiddleware({\n    logger: console.error,\n    prefix: \"[Relay Network]: \"\n  })]);\n  return new Environment({\n    network: network,\n    store: new Store(new RecordSource())\n  });\n};","map":null,"metadata":{},"sourceType":"module"}